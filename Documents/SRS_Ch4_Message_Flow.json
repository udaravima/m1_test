{
  "message_flows": {
    "description": "Defines key workflows and sequence diagrams showing SDP component interactions during different message flows.",
    "mo_flow": {
      "description": "Mobile Originated (MO) message flow. Applies to SMS-MO and MMS-MO.",
      "references": [
        { "type": "figure", "id": "fig-4.1", "file": "MO_Flow_v2.jpg" }
      ],
      "error_flows": {
        "description": "Possible error scenarios in MO flow.",
        "references": [
          { "type": "file", "id": "appendix-dd", "file": "Error_Description.xls", "tab": "MO Err Flow" }
        ]
      }
    },
    "mt_flow": {
      "description": "Mobile Terminated (MT) message flow. Applies to SMS-MT and MMS-MT.",
      "references": [
        { "type": "figure", "id": "fig-4.2", "file": "MT_Flow_v2.jpg" }
      ],
      "error_flows": {
        "description": "Possible error scenarios in MT flow.",
        "references": [
          { "type": "file", "id": "appendix-dd", "file": "Error_Description.xls", "tab": "MT Err Flow" }
        ]
      }
    },
    "number_checking_flow": {
      "description": "Flow for checking subscriber numbers. Relevant for SMS-MO, SMS-MT, MMS-MO, and MMS-MT.",
      "references": [
        { "type": "figure", "id": "fig-4.3", "file": "Number_Checking_Flow_v2.jpg" }
      ],
      "error_flows": {
        "description": "Error scenarios in number checking flow.",
        "references": [
          { "type": "file", "id": "appendix-dd", "file": "Error_Description.xls", "tab": "NumberCheck" }
        ]
      }
    },
    "wap_push_flow": {
      "description": "Workflow for WAP Push message flow.",
      "references": [
        { "type": "figure", "id": "fig-4.4", "file": "WAP_Push_Flow.jpg" }
      ]
    },
    "bas_flow": {
      "description": "Billing As Service (BAS) flow. Application originates billing request, SDP executes charging, response sent back to app. No mobile user involved.",
      "references": [
        { "type": "figure", "id": "fig-4.5", "file": "BAS_Flow_v2.jpg" }
      ]
    },
    "prepaid_charging_scenarios": {
      "description": "Possible flows related to prepaid charging.",
      "credit_reservation_flow": {
        "requirements": {
          "REQ-PCS-CRF-1": "Credit reservation flow required for MO, MT, and BAS flows"
        },
        "references": [
          { "type": "figure", "id": "fig-4.6.1", "file": "Prepaid_Charging_Scenario-1.jpg", "section": "Reserve_Credit Flow" }
        ]
      },
      "commit_credit_reservation_flow": {
        "requirements": {
          "REQ-PCS-CCR-1": "Commit credit reservation flow required for MO, MT, and BAS flows"
        },
        "references": [
          { "type": "figure", "id": "fig-4.6.2", "file": "Prepaid_Charging_Scenario-1.jpg", "section": "Commit_Reserve_Credit Flow" }
        ]
      },
      "direct_debit_flow": {
        "requirements": {
          "REQ-PCS-DDF-1": "Direct debit flow required only for BAS flow"
        },
        "references": [
          { "type": "figure", "id": "fig-4.6.3", "file": "Prepaid_Charging_Scenario-1.jpg", "section": "Direct_Debit Flow" }
        ]
      },
      "cancel_credit_reservation_flow": {
        "requirements": {
          "REQ-PCS-CAC-1": "Cancel credit reservation flow required for MO, MT, and BAS flows"
        },
        "references": [
          { "type": "figure", "id": "fig-4.6.4", "file": "Prepaid_Charging_Scenario-2.jpg", "section": "Cancel_CreditReservation Flow" }
        ]
      },
      "topup_flow": {
        "requirements": {
          "REQ-PCS-TOP-1": "Topup flow (Amount or Scratch Card) required only for BAS flow"
        },
        "references": [
          { "type": "figure", "id": "fig-4.6.5", "file": "Prepaid_Charging_Scenario-2.jpg", "section": "Topup Flow" }
        ]
      },
      "subscriber_balance_request_flow": {
        "requirements": {
          "REQ-PCS-SBR-1": "Subscriber balance request flow required for MO, MT, and BAS flows to proceed with credit reservation and debit"
        },
        "references": [
          { "type": "figure", "id": "fig-4.6.6", "file": "Prepaid_Charging_Scenario-2.jpg", "section": "Subscriber_Balance_Request Flow" }
        ]
      }
    },
    "ussd_flow_phase2": {
      "mo_flow": {
        "references": [
          { "type": "figure", "id": "fig-4.7.1", "file": "USSD_MO_Flow.jpg" }
        ]
      },
      "mt_flow": {
        "references": [
          { "type": "figure", "id": "fig-4.7.2", "file": "USSD_MT_Flow.jpg" }
        ]
      }
    }
  }
}
