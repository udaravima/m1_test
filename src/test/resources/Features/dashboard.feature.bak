Feature: Dashboard Functionality

  Background:
    Given I am logged in successfully
    And I am on the dashboard

  @smoke @dashboard
  Scenario: Dashboard Elements Visibility
    Then I should see the main navigation menu
    And I should see the user profile section
    And I should see the quick actions panel
    And I should see the recent activity section
    And I should see the system status indicators

  @dashboard @navigation
  Scenario: Navigation Menu Functionality
    When I click on the "Users" menu item
    Then I should be redirected to the users page
    And the users page should load successfully
    When I click on the "Reports" menu item
    Then I should be redirected to the reports page
    And the reports page should load successfully
    When I click on the "Settings" menu item
    Then I should be redirected to the settings page
    And the settings page should load successfully

  @dashboard @quick-actions
  Scenario: Quick Actions Panel
    When I click on the "Add New User" quick action
    Then I should be redirected to the add user page
    When I click on the "Generate Report" quick action
    Then I should be redirected to the report generation page
    When I click on the "System Backup" quick action
    Then the backup process should be initiated
    And I should see a progress indicator

  @dashboard @recent-activity
  Scenario: Recent Activity Display
    Then I should see recent user logins
    And I should see recent system changes
    And I should see recent error logs
    And each activity should show timestamp
    And each activity should show user information
    And each activity should show action description

  @dashboard @search
  Scenario: Global Search Functionality
    When I enter "user" in the global search box
    And I press Enter
    Then I should see search results
    And the results should include user-related items
    When I enter "report" in the global search box
    And I press Enter
    Then I should see search results
    And the results should include report-related items

  @dashboard @notifications
  Scenario: Notification Center
    When I click on the notification bell icon
    Then I should see the notification panel
    And I should see unread notifications count
    And I should see notification categories
    When I click on a notification
    Then I should be redirected to the related page
    And the notification should be marked as read

  @dashboard @widgets
  Scenario: Dashboard Widgets
    Then I should see the user statistics widget
    And I should see the system performance widget
    And I should see the recent alerts widget
    And I should see the quick charts widget
    When I click on the refresh button of a widget
    Then the widget data should be updated
    And I should see the latest information

  @dashboard @customization
  Scenario: Dashboard Customization
    When I click on the customize dashboard button
    Then I should see the widget selection panel
    When I drag and drop a widget to a new position
    Then the widget should be repositioned
    When I remove a widget from the dashboard
    Then the widget should be removed
    And the dashboard layout should be updated

  @dashboard @responsive
  Scenario: Dashboard Responsive Design
    When I resize the browser window to mobile size
    Then the dashboard should adapt to mobile layout
    And the navigation menu should collapse
    And the widgets should stack vertically
    When I resize the browser window to tablet size
    Then the dashboard should adapt to tablet layout
    And the navigation should be accessible
    And the widgets should be properly sized

  @dashboard @performance
  Scenario: Dashboard Performance
    Given I am on the dashboard
    When I wait for the page to fully load
    Then the dashboard should load within 3 seconds
    And all widgets should load within 5 seconds
    And the page should be responsive to user interactions
    When I refresh the dashboard
    Then the refresh should complete within 2 seconds

  @dashboard @data-refresh
  Scenario: Real-time Data Updates
    Given I am viewing the dashboard
    When I wait for 30 seconds
    Then the dashboard data should be automatically updated
    And the timestamp should show recent update time
    When I manually refresh the dashboard
    Then all data should be refreshed
    And I should see the latest information

  @dashboard @export
  Scenario: Dashboard Data Export
    When I click on the export dashboard button
    Then I should see export format options
    When I select "PDF" format
    And I click the export button
    Then the dashboard should be exported as PDF
    And I should receive the download
    When I select "Excel" format
    And I click the export button
    Then the dashboard should be exported as Excel
    And I should receive the download

  @dashboard @accessibility
  Scenario: Dashboard Accessibility
    Then the dashboard should have proper heading structure
    And all interactive elements should be keyboard accessible
    And all images should have alt text
    And the color contrast should meet accessibility standards
    And the dashboard should be screen reader compatible
    When I use only keyboard navigation
    Then I should be able to access all dashboard features

  @dashboard @internationalization
  Scenario: Multi-language Support
    Given I am on the dashboard
    When I change the language to "Spanish"
    Then all dashboard text should be displayed in Spanish
    And the date format should be localized
    And the number format should be localized
    When I change the language to "French"
    Then all dashboard text should be displayed in French
    And the date format should be localized
    And the number format should be localized
